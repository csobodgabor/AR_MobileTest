<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AR Demo - Mobil kompatibilis</title>
<style>
  body, html {
    margin: 0;
    overflow: hidden;
    background: black;
    font-family: sans-serif;
  }
  video {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    z-index: -1;
  }
  canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
  }
  #info {
    position: absolute;
    top: 10px; left: 10px;
    color: white;
    background: rgba(0,0,0,0.4);
    padding: 4px 8px;
    border-radius: 8px;
    white-space: pre-line;
  }
  #startButton {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    padding: 1em 2em;
    font-size: 1.2em;
    border-radius: 10px;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="info">Nyomd meg az "AR ind√≠t√°sa" gombot az enged√©lyekhez.</div>
<button id="startButton">AR ind√≠t√°sa</button>
<video id="camera" autoplay playsinline></video>
<canvas id="overlay"></canvas>

<script>
const info = document.getElementById("info");
const startButton = document.getElementById("startButton");
const video = document.getElementById("camera");
const canvas = document.getElementById("overlay");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let orientation = { alpha: 0, beta: 0, gamma: 0 };
let position = { lat: 0, lon: 0 };

// üé• Kamera ind√≠t√°sa
async function startCamera() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } });
    video.srcObject = stream;
  } catch (e) {
    info.innerText = "Nem siker√ºlt el√©rni a kamer√°t: " + e.message;
  }
}

// üß≠ Giroszk√≥p/orient√°ci√≥ ind√≠t√°sa
async function startOrientation() {
  if (typeof DeviceOrientationEvent.requestPermission === 'function') {
    // iOS
    const permission = awai
